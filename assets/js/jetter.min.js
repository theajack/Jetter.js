var J={class:function(a){return document.getElementsByClassName(a)},id:function(a){return document.getElementById(a)},tag:function(a){return document.getElementsByTagName(a)},attr:function(a){return document.querySelectorAll("["+a+"]")},name:function(a){return document.getElementsByName(a)},select:function(a){var b=document.querySelectorAll(a);if(b.length==1){return b[0]}else{return b}},create:function(a){return document.createElement(a)},ready:(function(){var b=[];var d=false;function c(g){if(d){return}if(g.type==="onreadystatechange"&&document.readyState!=="complete"){return}for(var f=0;f<b.length;f++){b[f].call(document)}d=true;b=null}if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false);document.addEventListener("readystatechange",c,false);window.addEventListener("load",c,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",c);window.attachEvent("onload",c)}}return function a(e){if(d){e.call(document)}else{b.push(e)}}})(),load:function(a){if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);a()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState=="complete"){document.detachEvent("onreadystatechange",arguments.callee);a()}})}}}};HTMLElement.prototype.css=function(d,value){if(arguments.length==1){if(d.constructor.name=="Object"){for(var key in d){eval("this.style."+key+"='"+d[key]+"'")}return this}else{return eval("this.style."+d)}}else{eval("this.style."+d+"='"+value+"'");return this}};HTMLElement.prototype.attr=function(c,b){if(arguments.length==1){if(c.constructor.name=="Object"){for(var a in c){this.setAttribute(a,c[a])}return this}else{return this.getAttribute(c)}}else{this.setAttribute(c,b);return this}};HTMLElement.prototype.findClass=function(a){return this.getElementsByClassName(a)};HTMLElement.prototype.findId=function(a){return this.getElementById(a)};HTMLElement.prototype.findTag=function(a){return this.getElementsByTagName(a)};HTMLElement.prototype.findAttr=function(a){return this.querySelectorAll("["+a+"]")};HTMLElement.prototype.findName=function(a){return this.getElementsByName(a)};HTMLElement.prototype.select=function(a){return this.querySelectorAll(a)};HTMLElement.prototype.addClass=function(a){if(!this.hasClass(a)){this.className+=" "+a}return this};HTMLElement.prototype.removeClass=function(a){if(this.hasClass(a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");this.className=this.className.replace(b," ")}return this};HTMLElement.prototype.toggleClass=function(a){if(this.hasClass(a)){this.removeClass(a)}else{this.addClass(a)}return this};HTMLElement.prototype.val=function(a){if(arguments.length==0){return this.value}else{this.value=a;return this}};HTMLElement.prototype.text=function(a){if(arguments.length==0){return this.innerText}else{this.innerText=a;return this}};HTMLElement.prototype.content=function(a){if(this.tagName=="INPUT"){if(arguments.length==0){return this.value}else{this.value=a}}else{if(arguments.length==0){return this.innerText}else{this.innerText=a}}return this};HTMLElement.prototype.html=function(a){if(arguments.length==0){return this.innerHtml}else{this.innerHtml=a;return this}};HTMLElement.prototype.hasClass=function(a){return new RegExp("(\\s|^)"+a+"(\\s|$)").test(this.className)};HTMLElement.prototype.children=function(){return this.children};HTMLElement.prototype.parent=function(){return this.parentElement};HTMLElement.prototype.prepend=function(a){this.insertBefore(a,this.children[0])};HTMLElement.prototype.append=function(b,a){if(arguments.length==1){this.appendChild(b)}else{this.insertBefore(b,this.children[a])}};HTMLCollection.prototype.each=function(b){for(var a=0;a<this.length;a++){b(this[a])}};HTMLCollection.prototype.select=function(c){var b=[];this.each(function(a){b[b.length]=a.select(c)});return b};NodeList.prototype.select=function(){var b=[];this.each(function(a){b[b.length]=a.select(name)});return b};HTMLCollection.prototype.removeClass=function(a){this.each(function(b){b.removeClass(a)})};HTMLCollection.prototype.addClass=function(a){this.each(function(b){b.addClass(a)})};NodeList.prototype.removeClass=function(a){this.each(function(b){b.removeClass(a)})};NodeList.prototype.addClass=function(a){this.each(function(b){b.addClass(a)})};NodeList.prototype.each=function(b){for(var a=0;a<this.length;a++){b(this[a])}};Array.prototype.each=function(b){for(var a=0;a<this.length;a++){b(this[a])}};
J.ready(function(){J.attr("jet-valid").each(function(a){a.attr({"onBlur":"validInput(this)","onfocus":"addValidValue(this)"})});J.tag("head")[0].append(J.create("style").text(".jet-unpass{border-color:#f20!important;border-style:solid!important;background-color:rgba(255,0,0,0.1)!important;color:#f00!important;}"))});var Jet={useDefaultStyle:true,get:function(jetForm){return getElemsObj(J.select("[jet-form="+jetForm+"]"),"jet-name")},set:function(jetForm,data){setObjVal(J.select("[jet-form="+jetForm+"]"),"jet-name",data)},validate:function(a,b){if(arguments.length==1){validateForm(J.select("[jet-form="+a.jetform+"]"),a.onpass,a.onfail)}else{validateForm(J.select("[jet-form="+a+"]"),b)}},banDefault:function(){this.useDefaultStyle=false;J.class("jet-unpass").removeClass("jet-unpass")},validSinglePass:function(input,result){},validSingleFail:function(input,result){}};function getElemsObj(d,b){var a=d.select("["+b+"]");var c={};a.each(function(e){c[e.attr(b)]=e.content()});return c}function setObjVal(c,a,b){inputs=c.select("["+a+"]");inputs.each(function(d){var e=d.attr(a);d.content(b[e])})}function validInput(b){var a=checkValue(b.attr("jet-valid"),b.content());if(a!="true"){if(Jet.useDefaultStyle){b.addClass("jet-unpass");if(b.content()!=a){b.attr("jet-value",b.content());b.content(a)}}Jet.validSingleFail(b,a)}else{if(Jet.useDefaultStyle){b.removeClass("jet-unpass");b.attr("jet-value","")}Jet.validSinglePass(b,a)}return a}function addValidValue(a){if(a.hasClass("jet-unpass")){a.content(a.attr("jet-value"))}}function validateForm(g,f,c){var e=[];var b=true;if(c==undefined){b=false}var d=true;var a=g.select("[jet-valid]");a.each(function(j){var h=validInput(j);if(h!="true"){d=false;if(b){e[e.length]={"obj":j,"error":h}}}});if(!d){if(b){c(e)}}else{if(f!=undefined){f()}}}function getElemsStrs(d,b){var a=d.select("["+b+"]");var c=[];a.each(function(e){c[i]=[e.attr(b),e.content()]});return c}var validText={"null":"*可以为空","date":"*格式为XXXX-XX-XX","email":"*格式为XXX@XX.com","number":"*须为纯数字","length":"*输入长度为","tel":"*须为11位纯数字","letterStart":"*字母开头且长度为","range":"*数字不在范围内","express":"*自定义错误",};function checkValue(a,e){if(a.indexOf("null")!=-1){var c=a.split(" ");var b=(c[0]=="null")?c[1]:c[0];if(b.indexOf("range")!=-1){var d=testRange(a,e);if(d!="true"&&e!=""){return d}}if(!getRegExp(b).test(e)&&e!=""){return getValueText(b)}}else{if(a.indexOf("range")!=-1){var d=testRange(a,e);if(d!="true"){return d}}else{if(!getRegExp(a).test(e)){return getValueText(a)}}}return"true"}function getValueText(b){var c=0;if(b.indexOf("range")!=-1){c=6}else{if(b.indexOf("letterStart")!=-1){c=12}else{if(b.indexOf("length")!=-1){c=7}}}if(c!=0){var a=b.substring(c,b.length-1).split(",");return validText[b.substring(0,c-1)]+"["+a[0]+","+a[1]+"]"}else{return validText[b]}}function testRange(b,c){var a=b.substring(6,b.length-1).split(",");b="number";if(getRegExp(b).test(c)){if(parseInt(c)<parseInt(a[0])||parseInt(c)>parseInt(a[1])){return validText.range+"["+a[0]+","+a[1]+"]"}}else{return validText.number}return"true"}function getRegExp(f){var d=0;var c=0;if(f.indexOf("length")!=-1){var e=f.substring(7,f.length-1).split(",");f="length";d=e[0];c=e[1]}else{if(f.indexOf("letterStart")!=-1){var e=f.substring(12,f.length-1).split(",");f="letterStart";d=e[0];c=e[1]}}switch(f){case"null":return/^\S{0}$/;break;case"date":return/^(([12]\d{3}-((0[1-9])|(1[1-2]))-((0[1-9])|([1-2]\d)|3(0|1))))$/;break;case"email":return/^((\w*@\w*.com))$/;break;case"number":return/^(\d+)$/;break;case"tel":return/^([1]\d{10})$/;break;case"letterStart":return new RegExp("^([a-zA-Z]([a-zA-Z\\d]){"+(parseInt(d)-1)+","+(parseInt(c)-1)+"})$");break;case"length":return new RegExp("^(([a-zA-Z\\d]){"+d+","+c+"})$");break;case"express":return value;break;default:return"";break}}function getUrlPara(){var d=decodeURI(location.search.substring(1)).split("&");if(d.length==0){return""}else{if(d.length==1){return d[0].split("=")[1]}else{var a={};for(var c=0;c<d.length;c++){var b=d[c].split("=");a[b[0]]=b[1]}return a}}}function turnPage(a){window.location.href=(encodeURI(a))};